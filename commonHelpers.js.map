{"version":3,"file":"commonHelpers.js","sources":["../src/js/projects.js","../src/js/reviews.js"],"sourcesContent":["import Swiper from 'swiper/bundle';\nimport 'swiper/css/bundle';\n\nconst swiper = new Swiper('.swiper', {\n  grabCursor: true,\n  mousewheel: true,\n  speed: 500,\n  keyboard: {\n    enabled: true,\n  },\n  navigation: {\n    nextEl: '.swiper-button-next',\n    prevEl: '.swiper-button-prev',\n  },\n});\n","import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport Swiper from 'swiper';\nimport 'swiper/css';\nimport { Navigation } from 'swiper/modules';\n\nconst reviewsSection = document.querySelector('#reviews');\nconst reviewsList = document.querySelector('.swiper-wrapper');\n\nconst swiper = new Swiper('.swiper', {\n  modules: [Navigation],\n\n  navigation: {\n    nextEl: '.swiper-button-next',\n    prevEl: '.swiper-button-prev',\n  },\n\n  spaceBetween: '16',\n\n  breakpoints: {\n    768: {\n      slidesPerView: 2,\n    },\n\n    1440: {\n      slidesPerView: 4,\n    },\n  },\n});\n\nconst observer = new IntersectionObserver(entries => {\n  entries.forEach(entry => {\n    if (entry.isIntersecting) {\n      fetchAndRenderReviews();\n      observer.unobserve(entry.target);\n    }\n  });\n});\n\nobserver.observe(reviewsSection);\n\nasync function getReviews() {\n  try {\n    const response = await axios.get(\n      'https://portfolio-js.b.goit.study/api/reviews'\n    );\n\n    return response.data;\n  } catch {\n    iziToast.error({\n      message: 'Error fetching reviews',\n    });\n\n    return [];\n  }\n}\n\nfunction renderReviews(reviews) {\n  if (reviews.length === 0) {\n    reviewsList.innerHTML = `<p class=\"reviews-notfound\">Not found</p>`;\n    return;\n  }\n\n  const markup = reviews\n    .map(\n      ({ author, avatar_url, review }) => `\n    <li class=\"swiper-slide\">\n      <img class=\"reviews-avatar\" src=\"${avatar_url}\" alt=\"Review author\" loading=\"lazy\"/>\n      <h3 class=\"reviews-author\">${author}</h3>\n      <p class=\"reviews-text\">${review}</p>\n    </li>`\n    )\n    .join('');\n\n  reviewsList.insertAdjacentHTML('beforeend', markup);\n}\n\nasync function fetchAndRenderReviews() {\n  const reviews = await getReviews();\n  renderReviews(reviews);\n}\n"],"names":["Swiper","reviewsSection","reviewsList","Navigation","observer","entries","entry","fetchAndRenderReviews","getReviews","axios","iziToast","renderReviews","reviews","markup","author","avatar_url","review"],"mappings":"2wBAGe,IAAIA,EAAO,UAAW,CACnC,WAAY,GACZ,WAAY,GACZ,MAAO,IACP,SAAU,CACR,QAAS,EACV,EACD,WAAY,CACV,OAAQ,sBACR,OAAQ,qBACT,CACH,CAAC,ECPD,MAAMC,EAAiB,SAAS,cAAc,UAAU,EAClDC,EAAc,SAAS,cAAc,iBAAiB,EAE7C,IAAIF,EAAO,UAAW,CACnC,QAAS,CAACG,CAAU,EAEpB,WAAY,CACV,OAAQ,sBACR,OAAQ,qBACT,EAED,aAAc,KAEd,YAAa,CACX,IAAK,CACH,cAAe,CAChB,EAED,KAAM,CACJ,cAAe,CAChB,CACF,CACH,CAAC,EAED,MAAMC,EAAW,IAAI,qBAAqBC,GAAW,CACnDA,EAAQ,QAAQC,GAAS,CACnBA,EAAM,iBACRC,IACAH,EAAS,UAAUE,EAAM,MAAM,EAErC,CAAG,CACH,CAAC,EAEDF,EAAS,QAAQH,CAAc,EAE/B,eAAeO,GAAa,CAC1B,GAAI,CAKF,OAJiB,MAAMC,EAAM,IAC3B,+CACN,GAEoB,IACpB,MAAU,CACN,OAAAC,EAAS,MAAM,CACb,QAAS,wBACf,CAAK,EAEM,EACR,CACH,CAEA,SAASC,EAAcC,EAAS,CAC9B,GAAIA,EAAQ,SAAW,EAAG,CACxBV,EAAY,UAAY,4CACxB,MACD,CAED,MAAMW,EAASD,EACZ,IACC,CAAC,CAAE,OAAAE,EAAQ,WAAAC,EAAY,OAAAC,CAAQ,IAAK;AAAA;AAAA,yCAEDD,CAAU;AAAA,mCAChBD,CAAM;AAAA,gCACTE,CAAM;AAAA,UAEjC,EACA,KAAK,EAAE,EAEVd,EAAY,mBAAmB,YAAaW,CAAM,CACpD,CAEA,eAAeN,GAAwB,CACrC,MAAMK,EAAU,MAAMJ,IACtBG,EAAcC,CAAO,CACvB"}