import{S as g,A as S,N as E,a as m,i as p}from"./assets/vendor-D7ztrFhn.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function o(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(t){if(t.ep)return;t.ep=!0;const n=o(t);fetch(t.href,n)}})();const q=document.querySelector(".header-menu-open-btn"),O=document.querySelector(".mob-menu-btn"),y=document.querySelector(".menu-toggle"),w=document.querySelector(".mob-menu");q.addEventListener("click",()=>{w.classList.add("is-open"),y.classList.add("is-open")});O.addEventListener("click",()=>{w.classList.remove("is-open"),y.classList.add("is-open")});document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".accordion-btn").forEach(e=>{e.addEventListener("click",()=>{const o=e.nextElementSibling;o.classList.contains("show")?(o.classList.remove("show"),e.classList.remove("active")):(document.querySelectorAll(".descrip-text-list.show").forEach(r=>{r.classList.remove("show"),r.previousElementSibling.classList.remove("active")}),o.classList.add("show"),e.classList.add("active"))})})});new g(".projects-swiper",{grabCursor:!0,mousewheel:!0,speed:500,keyboard:{enabled:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});document.addEventListener("DOMContentLoaded",function(){new S(".accordion-container",{duration:1e3,showMultiple:!1,elementClass:"ac",triggerClass:"ac-trigger",panelClass:"ac-panel",activeClass:"is-active"})});document.querySelectorAll(".ac-trigger").forEach(s=>{s.addEventListener("click",()=>{const e=s.closest(".ac");e.classList.toggle("is-active");const o=e.querySelector(".ac-panel");e.classList.contains("is-active")?o.style.maxHeight=o.scrollHeight+"px":o.style.maxHeight=0})});document.addEventListener("DOMContentLoaded",function(){const s=document.querySelector(".covers"),e=document.querySelectorAll(".marquee__line");function o(){e.forEach(i=>{i.style.animationPlayState="running"})}function r(){e.forEach(i=>{i.style.animationPlayState="paused"})}const t={root:null,rootMargin:"0px",threshold:.1},n=new IntersectionObserver((i,N)=>{i.forEach(h=>{h.isIntersecting?o():r()})},t);s&&n.observe(s)});const k=document.querySelector("#reviews"),v=document.querySelector(".reviews-list");new g(".reviews-swiper",{modules:[E],navigation:{nextEl:".reviews-controls-next",prevEl:".reviews-controls-prev"},spaceBetween:"16",breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:4}}});const L=new IntersectionObserver(s=>{s.forEach(e=>{e.isIntersecting&&(I(),L.unobserve(e.target))})});L.observe(k);async function x(){try{return(await m.get("https://portfolio-js.b.goit.study/api/reviews")).data}catch{return p.error({message:"Error fetching reviews"}),[]}}function A(s){if(s.length===0){v.innerHTML='<p class="reviews-notfound">Not found</p>';return}const e=s.map(({author:o,avatar_url:r,review:t})=>`
    <li class="reviews-list-item swiper-slide">
      <img class="reviews-avatar" src="${r}" alt="Review author" loading="lazy"/>
      <h3 class="reviews-author">${o}</h3>
      <p class="reviews-text">${t}</p>
    </li>`).join("");v.insertAdjacentHTML("beforeend",e)}async function I(){const s=await x();A(s)}const b=document.querySelector(".feedback-form");document.querySelector(".feedback-button");const c=document.querySelector(".email-input"),a=document.querySelector(".text-input"),l={email:"",comment:""},u=document.querySelector(".backdrop"),f=document.querySelector(".modal"),M=document.querySelector(".close-button");b.addEventListener("input",C);function C(){l.email=c.value.trim(),l.comment=a.value.trim(),localStorage.setItem("feedback-form-state",JSON.stringify(l))}const d=JSON.parse(localStorage.getItem("feedback-form-state"));d!==null&&(a.value=d.comment,c.value=d.email);b.addEventListener("submit",P);async function P(s){if(s.preventDefault(),c.value!==""&&a.value!==""){l.email=c.value.trim(),l.comment=a.value.trim(),m.defaults.baseURL="https://portfolio-js.b.goit.study/api";try{const e=()=>{f.classList.remove("is-open"),u.classList.remove("is-open")},o=await m.post("/requests",{email:c.value.trim(),comment:a.value.trim()});M.addEventListener("click",e),u.addEventListener("click",e),console.log(o),u.classList.add("is-open"),f.classList.add("is-open"),p.success({position:"topRight",message:"Succeed!"}),document.addEventListener("keydown",r=>{r.key==="Escape"&&e()})}catch(e){console.log(e),p.error({position:"topRight",message:"Error.Please try again!"})}localStorage.removeItem("feedback-form-state"),c.value="",a.value=""}else alert("Fill please all fields")}
//# sourceMappingURL=commonHelpers.js.map
