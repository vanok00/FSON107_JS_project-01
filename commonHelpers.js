import{A as b,S as f,N as E,a as m,i as p}from"./assets/vendor-CIw-2dob.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function r(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(t){if(t.ep)return;t.ep=!0;const s=r(t);fetch(t.href,s)}})();const q=document.querySelector(".header-menu-open-btn"),k=document.querySelector(".mob-menu-btn"),w=document.querySelector(".menu-toggle"),y=document.querySelector(".mob-menu");q.addEventListener("click",()=>{y.classList.add("is-open"),w.classList.add("is-open")});k.addEventListener("click",()=>{y.classList.remove("is-open"),w.classList.add("is-open")});new b(".about-info-list",{elementClass:"info-item",triggerClass:"info-icon-wrapper",panelClass:"info-item-panel"});new f(".tec-swiper-container",{direction:"horizontal",loop:!0,effect:"slide",breakpointsBase:"container",slidesPerView:2,breakpoints:{320:{slidesPerView:2},768:{slidesPerView:3},1440:{slidesPerView:5}},navigation:{nextEl:".about-button-next"},keyboard:{enabled:!0}});new f(".projects-swiper",{grabCursor:!0,mousewheel:!0,speed:500,keyboard:{enabled:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});document.addEventListener("DOMContentLoaded",function(){new b(".accordion-container",{duration:1e3,showMultiple:!1,elementClass:"ac",triggerClass:"ac-trigger",panelClass:"ac-panel",activeClass:"is-active"})});document.querySelectorAll(".ac-trigger").forEach(o=>{o.addEventListener("click",()=>{const e=o.closest(".ac");e.classList.toggle("is-active");const r=e.querySelector(".ac-panel");e.classList.contains("is-active")?r.style.maxHeight=r.scrollHeight+"px":r.style.maxHeight=0})});document.addEventListener("DOMContentLoaded",function(){const o=document.querySelector(".covers"),e=document.querySelectorAll(".marquee__line");function r(){e.forEach(n=>{n.style.animationPlayState="running"})}function i(){e.forEach(n=>{n.style.animationPlayState="paused"})}const t={root:null,rootMargin:"0px",threshold:.1},s=new IntersectionObserver((n,N)=>{n.forEach(S=>{S.isIntersecting?r():i()})},t);o&&s.observe(o)});const O=document.querySelector("#reviews"),v=document.querySelector(".reviews-list");new f(".reviews-swiper",{modules:[E],navigation:{nextEl:".reviews-controls-next",prevEl:".reviews-controls-prev"},spaceBetween:"16",breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:4}}});const h=new IntersectionObserver(o=>{o.forEach(e=>{e.isIntersecting&&(C(),h.unobserve(e.target))})});h.observe(O);async function x(){try{return(await m.get("https://portfolio-js.b.goit.study/api/reviews")).data}catch{return p.error({message:"Error fetching reviews"}),[]}}function P(o){if(o.length===0){v.innerHTML='<p class="reviews-notfound">Not found</p>';return}const e=o.map(({author:r,avatar_url:i,review:t})=>`
    <li class="reviews-list-item swiper-slide">
      <img class="reviews-avatar" src="${i}" alt="Review author" loading="lazy"/>
      <h3 class="reviews-author">${r}</h3>
      <p class="reviews-text">${t}</p>
    </li>`).join("");v.insertAdjacentHTML("beforeend",e)}async function C(){const o=await x();P(o)}const L=document.querySelector(".feedback-form");document.querySelector(".feedback-button");const a=document.querySelector(".email-input"),c=document.querySelector(".text-input"),l={email:"",comment:""},u=document.querySelector(".backdrop"),g=document.querySelector(".modal"),A=document.querySelector(".close-button");L.addEventListener("input",I);function I(){l.email=a.value.trim(),l.comment=c.value.trim(),localStorage.setItem("feedback-form-state",JSON.stringify(l))}const d=JSON.parse(localStorage.getItem("feedback-form-state"));d!==null&&(c.value=d.comment,a.value=d.email);L.addEventListener("submit",M);async function M(o){if(o.preventDefault(),a.value!==""&&c.value!==""){l.email=a.value.trim(),l.comment=c.value.trim(),m.defaults.baseURL="https://portfolio-js.b.goit.study/api";try{const e=()=>{g.classList.remove("is-open"),u.classList.remove("is-open")},r=await m.post("/requests",{email:a.value.trim(),comment:c.value.trim()});A.addEventListener("click",e),u.addEventListener("click",e),console.log(r),u.classList.add("is-open"),g.classList.add("is-open"),p.success({position:"topRight",message:"Succeed!"}),document.addEventListener("keydown",i=>{i.key==="Escape"&&e()})}catch(e){console.log(e),p.error({position:"topRight",message:"Error.Please try again!"})}localStorage.removeItem("feedback-form-state"),a.value="",c.value=""}else alert("Fill please all fields")}
//# sourceMappingURL=commonHelpers.js.map
